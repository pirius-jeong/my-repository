# 부록 A. Advanced Prompting Technique(고급 프롬프팅 기법)

## A.1 소개

- **프롬프팅**: LLM 원하는 출력 유도 입력 제작(구조·컨텍스트·형식).
- **목적**: 고품질·정확 응답 지속 확보.
- **적용**: 챗봇 ~ 다중 에이전트.

### 핵심 원칙

| 원칙 | 설명 |
|------|------|
| **명확·구체** | 모호 피함, 형식·제한 정의 |
| **간결** | 불필요 제거, 능동 동사(분석·요약) |
| **긍정 지시** | "하지 마" 대신 "이렇게 해" |
| **반복 실험** | 테스트·개선 문서화 |

---

## A.2 기본 기술

| 기술 | 설명 | 예 |
|------|------|----|
| **제로샷** | 예시 없음, 기본 학습 의존 | "영어 → 프랑스어: Hello" |
| **원샷** | 1 예시 | 예시 + 새 입력 |
| **퓨샷** | 3~5 예시(클래스 섞기) | 분류 예시 세트 |

---

## A.3 프롬프트 구성

| 구성 | 설명 | 예 |
|------|------|----|
| **시스템** | 전체 맥락·페르소나 | "도움이 되는 비서" |
| **역할** | 모델 페르소나 | "여행 블로거처럼" |
| **구분자** | 섹션 분리(` ``` `, XML) | <instruction>텍스트</instruction> |
| **구조화 출력** | JSON/XML 지정[^1] | "JSON: {name, email}" |

### Pydantic 객체화

```python
class User(BaseModel):
    name: str
    email: EmailStr
    date_of_birth: Optional[date] = None

user = User.model_validate_json(llm_json)  # 검증·파싱
```


---

## A.4 추론 기술

| 기술 | 설명 | 예 |
| :-- | :-- | :-- |
| **CoT** | 단계 생각(제로/퓨샷)[^1] | "단계별로 생각해" |
| **Self-Consistency** | 다중 경로 + 투표[^1] | 고온 반복 실행 |
| **Backtracking** | 일반 원리 먼저[^1] | "좋은 소설 요소?" → 플롯 |
| **ToT** | 트리 탐색·백트랙[^1] | 분기 결말 생성 |


---

## A.5 행동 기술

| 기술 | 설명 | 예 |
| :-- | :-- | :-- |
| **도구 호출** | JSON 함수 지정[^1] | {"tool": "weather", "city": "London"} |
| **ReAct** | 생각→행동→관찰 루프[^1] | 생각: 검색 → 행동: Search() |


---

## A.6 고급 기법

| 기법 | 설명 |
| :-- | :-- |
| **APE** | LLM으로 프롬프트 자동 개선[^1] |
| **반복 개선** | 초기 → 수정 루프[^1] |
| **부정 예** | 하지 말아야 할 예시[^1] |
| **비유** | 익숙한 개념 연상[^1] |
| **분해** | 복잡 → 하위 작업[^1] |
| **RAG** | 검색 컨텍스트 추가[^1] |
| **페르소나** | 대상 독자 지정[^1] |


---

## A.7 코드·다중모드

- **코드**: 작성·설명·번역·디버그(언어·버전 지정).[^1]
- **다중모드**: 텍스트+이미지(캡션·설명).[^1]

---

## A.8 모범 사례

- 토큰 제어·변수 사용·출력 형식 실험·클래스 섞기·CoT 온도0.[^1]
- 문서화·코드 저장·자동 테스트.[^1]

---

## A.9 한눈에 보기

- **무엇**: **명확·반복 + 구조·추론·행동**.[^1]
- **왜**: 에이전트 신뢰·효율.[^1]
- **어떻게**: CoT·ReAct·Pydantic·RAG.[^1]
- **언제**: 모든 LLM 상호작용.[^1]

---

## A.10 핵심 정리

- 프롬프팅 = **에이전트 인지 엔진**.[^1]
- 실험·구조화로 확률 → 결정론.[^1]
- Gems·DSPy 등 도구 활용.[^1]
